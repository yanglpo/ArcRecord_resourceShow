<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.arcrecord.mapper.HeroMapper">

    <select id="getHeroList" resultType="Role">
        SELECT *
        FROM ROLE
        <where>
            <if test="id != null">
                AND id = #{id}
            </if>
            <if test="name != null and name != ''">
                AND name LIKE CONCAT('%', #{name}, '%')
            </if>
            <if test="introduce != null and introduce != ''">
                AND introduce LIKE CONCAT('%', #{introduce}, '%')
            </if>
        </where>
    </select>

    <select id="getHeroById" parameterType="String" resultType="Role" >
        SELECT * FROM ROLE WHERE id = #{id}
    </select>

    <insert id="insertHero" parameterType="Role">
        INSERT INTO ROLE(id,name, description) VALUES(#{id},#{name}, #{introduce})
    </insert>

    <update id="updateHero" parameterType="String">
        UPDATE ROLE
        SET name = #{name},description = #{description}
        WHERE id = #{id}
    </update>

    <delete id="deleteHero" parameterType="String">
        DELETE FROM ROLE WHERE id = #{id}
    </delete>

    <select id="getRoleCollectionByHeroId" parameterType="string" resultType="roleCollection">
        select * from ROLECOLLECTION
        WHERE ROLEID = #{heroId}
          AND PREFABICON IS NOT NULL
          AND TRIM(PREFABICON) &lt;&gt; '';
    </select>

</mapper>